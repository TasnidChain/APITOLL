name = "apitoll"
compatibility_date = "2024-01-15"
compatibility_flags = ["nodejs_compat"]

# Pages build output — tells Cloudflare where the static files are
pages_build_output_dir = "apps/dashboard/out"

# Observability
[observability]
enabled = true

# ═══════════════════════════════════════════════════════════
# DEPLOYMENT NOTES
# ═══════════════════════════════════════════════════════════
# Before deploying, create the required resources and update
# the IDs below. Uncomment bindings as you provision them.
#
# 1. Create KV namespaces:
#    wrangler kv:namespace create CACHE
#    wrangler kv:namespace create SESSIONS
#
# 2. Create D1 database:
#    wrangler d1 create apitoll
#
# 3. Create R2 bucket:
#    wrangler r2 bucket create apitoll-files
#
# 4. Set secrets (don't put real values in this file):
#    wrangler secret put STRIPE_SECRET_KEY
#    wrangler secret put STRIPE_WEBHOOK_SECRET
#    wrangler secret put EXECUTOR_PRIVATE_KEY
#
# 5. Configure routes after adding domain to Cloudflare:
#    [env.production]
#    routes = [
#      { pattern = "apitoll.com", zone_name = "apitoll.com" },
#      { pattern = "*.apitoll.com", zone_name = "apitoll.com" }
#    ]
# ═══════════════════════════════════════════════════════════

# Uncomment and fill in after provisioning resources:
#
# [[kv_namespaces]]
# binding = "CACHE"
# id = "<your-kv-cache-id>"
#
# [[kv_namespaces]]
# binding = "SESSIONS"
# id = "<your-kv-sessions-id>"
#
# [[d1_databases]]
# binding = "DB"
# database_name = "apitoll"
# database_id = "<your-d1-id>"
#
# [[r2_buckets]]
# binding = "BUCKET"
# bucket_name = "apitoll-files"
